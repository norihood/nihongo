<!DOCTYPE html>
<html lang="en">

    <head>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Andia - Responsive Agency Template</title>

        <!-- CSS -->
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400">
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Droid+Sans">
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lobster">
        <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="assets/css/animate.css">
        <link rel="stylesheet" href="assets/css/magnific-popup.css">
        <link rel="stylesheet" href="assets/flexslider/flexslider.css">
        <link rel="stylesheet" href="assets/css/form-elements.css">
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="stylesheet" href="assets/css/media-queries.css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <!-- Favicon and touch icons -->
        <link rel="shortcut icon" href="assets/ico/favicon.ico">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
		
		<style type="text/css" media="screen">
			.list_cats {
				list-style-type: none;
			    text-align: left;
			}
			.list_cats li {
				display: inline-block;
				font-size: 20px;
			    /*padding: 10px 20px;*/
			}
			.list_cats li a {
				padding: 10px 20px;
				display: inherit;
				border-left: 1px solid #d6caca;
				background-color: #ececf3;
				/*border-radius: 5px;*/
			}
			.list_cats li:first-child a {
				border-left: none;
			}
			.list_cats li a:hover {
				background-color: #fdb8b8;
			}
			.list_cats li.active a {
				background-color: #fdb8b8;
			}
			.bigword {
				height: 100px;
				font-size: 50px;
				padding-top: 20px;
			    color: #0129f9;
			}
			.answers {
				font-size: 40px;
			}
			.answers label {
				padding: 10px 25px;
			}
			.answers label input {
				margin-right: 14px;
			}
			.list_checkbox {
				font-size: 14px;
			}
			.answers input[type=radio] {
			  /* Double-sized Checkboxes */
			  -ms-transform: scale(1.8); /* IE */
			  -moz-transform: scale(1.8); /* FF */
			  -webkit-transform: scale(1.8); /* Safari and Chrome */
			  -o-transform: scale(1.8); /* Opera */
			  padding: 10px;
			  vertical-align: middle;
			}
			.countdown {
				font-size: 25px;
			    color: #f51b02;
			}
			.item {
				height: 240px;
			}
			.text_content {
				height: 180px;
			}
			.text_content.only_text {
				line-height: 180px;
				font-size: 30px;
			}
			.text_content.text_result {
				/*padding: 20px;*/
			    font-size: 25px;
			/*    margin-top: 30px;*/
			    color: #f98c00;
			}
			@keyframes changewidth {
			  from {
			    font-size: 30px;
			  }

			  to {
			    font-size: 60px;
			  }
			}

			.text_content.only_text, .text_content.text_result {
			  animation-duration: 0.5s;
			  animation-name: changewidth;
			  animation-iteration-count: infinite;
			  animation-direction: alternate;
			}
		</style>
    </head>

    <body>

        <!-- Top menu -->
		<div w3-include-html="nav_top.html"></div>

        <!-- Page Title -->
        <div class="page-title-container">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12 wow fadeIn">
                        <i class="fa fa-tasks"></i>
                        <h1 id="title_alphabet" data-alphabet="katakana">Katakana /</h1>
                        <p>Here are the services we offer</p>
                    </div>
                </div>
            </div>
        </div>

		<div class="row">
		    <div class="col-md-5 col-md-offset-5 text-left list_checkbox">   
		        <div class="form-group">
		            <label>
		                <input type="checkbox" class="" name="select_all" id="select_all" value=""> Select all
		            </label>
		        </div>
		        <form action="" method="post" accept-charset="utf-8" id="form_word">
		            <div class="form-group">

		            </div>        
		        </form>
		        <!-- Button trigger modal -->
		        <div class="form-group">
		            <label>
		                Pick time for each answer ( put empty with no time ): 
		                <input type="text" class="form-control" name="pick_time" id="pick_time" value="5">
		            </label>
		        </div>
		        <button type="button" id="action_modal" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
		            Start test
		        </button>
		    </div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false"　data-backdrop="static">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" id="myModalLabel">Test Nihongo</h4>
		      </div>
		      <div class="modal-body">

		        <!-- carousel -->
		        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel" style="height: 260px;">
		        	<form action="" method="post" accept-charset="utf-8" id="form_nihongo">

		            <!-- Wrapper for slides -->
		            <div class="carousel-inner" role="listbox" data-amount-slide="3">
		            </div>
		            </form>
		        </div>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-success" href="#carousel-example-generic" role="button" data-slide="next" style="background-color: #5cb85c;">Next</button>
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
		      </div>
		    </div>
		  </div>
		</div>

        <!-- Call To Action -->
        <div class="call-to-action-container">
        	<div class="container">
	            <div class="row">
	                <div class="col-sm-12 call-to-action-text wow fadeInLeftBig">
	                    <p>
	                    	Lorem ipsum <span class="violet">dolor sit amet</span>, consectetur adipisicing elit, 
	                    	sed do eiusmod tempor incididunt ut labore et ut wisi.
	                    </p>
	                    <div class="call-to-action-button">
	                        <a class="big-link-3" href="#">Try It Now!</a>
	                    </div>
	                </div>
	            </div>
	        </div>
        </div>

        <!-- Footer -->
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-sm-3 footer-box wow fadeInUp">
                        <h4>About Us</h4>
                        <div class="footer-box-text">
	                        <p>
	                        	Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et. 
	                        	Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et.
	                        </p>
	                        <p><a href="about.html">Read more...</a></p>
                        </div>
                    </div>
                    <div class="col-sm-3 footer-box wow fadeInDown">
                        <h4>Email Updates</h4>
                        <div class="footer-box-text footer-box-text-subscribe">
                        	<p>Enter your email and you'll be one of the first to get new updates:</p>
                        	<form role="form" action="assets/subscribe.php" method="post">
		                    	<div class="form-group">
		                    		<label class="sr-only" for="subscribe-email">Email address</label>
		                        	<input type="text" name="email" placeholder="Email..." class="subscribe-email" id="subscribe-email">
		                        </div>
		                        <button type="submit" class="btn">Subscribe</button>
		                    </form>
		                    <p class="success-message"></p>
		                    <p class="error-message"></p>
                        </div>
                    </div>
                    <div class="col-sm-3 footer-box wow fadeInUp">
                        <h4>Flickr Photos</h4>
                        <div class="footer-box-text flickr-feed"></div>
                    </div>
                    <div class="col-sm-3 footer-box wow fadeInDown">
                        <h4>Contact Us</h4>
                        <div class="footer-box-text footer-box-text-contact">
	                        <p><i class="fa fa-map-marker"></i> Address: Via Principe Amedeo 9, 10100, Torino, TO, Italy</p>
	                        <p><i class="fa fa-phone"></i> Phone: 0039 333 12 68 347</p>
	                        <p><i class="fa fa-user"></i> Skype: Andia_Agency</p>
	                        <p><i class="fa fa-envelope"></i> Email: <a href="">contact@andia.co.uk</a></p>
                        </div>
                    </div>
                </div>
                <div class="row">
                	<div class="col-sm-12 wow fadeIn">
                		<div class="footer-border"></div>
                	</div>
                </div>
                <div class="row">
                    <div class="col-sm-7 footer-copyright wow fadeIn">
                        <p>Copyright 2012 Andia - All rights reserved. Template by <a href="http://azmind.com/free-bootstrap-themes-templates/">Azmind</a>.</p>
                    </div>
                    <div class="col-sm-5 footer-social wow fadeIn">
                        <a href="#"><i class="fa fa-facebook"></i></a>
                        <a href="#"><i class="fa fa-dribbble"></i></a>
                        <a href="#"><i class="fa fa-twitter"></i></a>
                        <a href="#"><i class="fa fa-pinterest"></i></a>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Javascript -->
        <script src="assets/js/jquery-1.11.1.min.js"></script>
        <script src="assets/bootstrap/js/bootstrap.min.js"></script>
        <script src="assets/js/bootstrap-hover-dropdown.min.js"></script>
        <script src="assets/js/jquery.backstretch.min.js"></script>
        <script src="assets/js/wow.min.js"></script>
        <script src="assets/js/retina-1.1.0.min.js"></script>
        <script src="assets/js/jquery.magnific-popup.min.js"></script>
        <script src="assets/flexslider/jquery.flexslider-min.js"></script>
        <script src="assets/js/jflickrfeed.min.js"></script>
        <script src="assets/js/masonry.pkgd.min.js"></script>
        <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
        <script src="assets/js/jquery.ui.map.min.js"></script>
        <script src="assets/js/scripts.js"></script>

		<script type="text/javascript" charset="utf-8">
			(function($){
				'use strict';
				var amount_slide;
				var nihongo_arr;
				var countdown_interval,
					next_timeout;
				var time_countdown;
				var carousel_ele = $('#carousel-example-generic');
				
				// console.log(nihongo_hira_obj);

				var app_js = {

					init: function(){
						app_js.event_init();
						if($('#title_alphabet').attr('data-alphabet') == 'hiragana'){
							app_js.get_nihongo(nihongo_hira_obj);
						}else{
							app_js.get_nihongo(nihongo_kata_obj);
						}
					},
					event_init: function(){
						
						var myModal_ele = $('#myModal');
						var count_slide = 0;			

						carousel_ele.carousel({
						  interval: false,
						  pause: 'hover',
						  wrap: false
						});
						
						myModal_ele.modal({
						  backdrop: 'static',
						  show: false,
						  keyboard: false
						})

						myModal_ele.on('hidden.bs.modal', function (e) {
						  	carousel_ele.carousel('pause');
						  	$('.item.active .countdown').html('');
							if(next_timeout) {
						        clearTimeout(next_timeout);
						    }
						});

						// event shown modal
						myModal_ele.on('shown.bs.modal', function () {
						    carousel_ele.carousel('cycle').carousel(0);
						    if(countdown_interval) {
						        clearInterval(countdown_interval);
						    }
						    app_js.get_countdown(3);
						    app_js.set_timeout_nextslide(3);
						});

						//event silde
						carousel_ele.on('slide.bs.carousel', function () {
						    count_slide++;
						    if(count_slide == amount_slide){
						    	app_js.get_result();
						    }
						    $('.item.active .countdown').html('');
						    if(countdown_interval) {
						        clearInterval(countdown_interval);
						    }
						    if(time_countdown != false && count_slide > 0 && count_slide != amount_slide){
							    app_js.get_countdown(time_countdown);
							    app_js.set_timeout_nextslide(time_countdown);
							}
							
						});

						// event click button test
						$('#action_modal').on('click', function(){
							count_slide = 0;
							app_js.active_modal();
							time_countdown = $('#pick_time').val();
							if(time_countdown == ''){
								time_countdown = false;
							}
						});

						//select all
						$('#select_all').on('change', function(){
							if(this.checked) {
							      $('#form_word :checkbox').each(function() {
							          this.checked = true;
							      });
							  }
							  else {
							    $('#form_word :checkbox').each(function() {
							          this.checked = false;
							      });
							  }
						})
					},
					//randomize array
					shuffle: function (a) {
					    var j, x, i;
					    for (i = a.length; i; i -= 1) {
					        j = Math.floor(Math.random() * i);
					        x = a[i - 1];
					        a[i - 1] = a[j];
					        a[j] = x;
					    }
					},
					//get random 3 value of array
					get_random_value: function(myArray, number_value){
						var new_arr = [],
							index_rand = [];
						if(number_value > myArray.length){
							number_value = myArray.length;
						}
						for (var i = number_value - 1; i >= 0; i--) {
							var rand = app_js.get_rand(myArray.length, index_rand);

							var value_rand = myArray[rand];			
							// console.log(Math.floor(Math.random() * myArray.length));
							new_arr.push(value_rand);
							index_rand.push(rand);
						}
						// console.log(new_arr);
						return new_arr;
					},
					get_rand: function(length, arr_number){
						var rand = Math.floor(Math.random() * length);
						if($.inArray(rand, arr_number) + 1){
							return app_js.get_rand(length, arr_number);
						}else{
							return rand;
						}
					},
					//get word for test
					get_arr_word: function(form_ele){
						var data = $(form_ele).serializeArray();
						// console.log(data);
						var arr = [];
						for (var i = data.length - 1; i >= 0; i--) {
							arr = arr.concat(data[i].value.split(','));
						}
						// console.log(arr);
						return arr;
					},
					// push html into carousel
					active_modal: function(){
						var arr_word = [];
						// $('#form_word input').val();
						arr_word = app_js.get_arr_word('#form_word');
						// console.log(arr_word);
						app_js.shuffle(arr_word);
						// console.log(arr_word);
						amount_slide = arr_word.length + 1;
						var arr_temporary = [],
							arr_three_word = [],
							str_html = '';

						str_html += '<div class="item active">'
			                		+	'<div class="text_content only_text">ready</div>'
			                		+	'<div class="countdown"></div>'
			            			+ '</div>';
						for (var i = arr_word.length - 1; i >= 0; i--) {
							// arr_word[i]
							arr_temporary = arr_word.slice();
							arr_temporary.splice(i, 1)
							arr_three_word = app_js.get_random_value(arr_temporary, 3);
							// console.log(arr_word[i]);
							// console.log(arr_three_word);
							arr_three_word.push(arr_word[i]);
							app_js.shuffle(arr_three_word);
							
							str_html += '<div class="item slide_ans">'
										+	'<div class="text_content">'
			                        	+ 		'<div class="bigword" data_word="'+ arr_word[i] +'">'
			                        	+  			nihongo_arr[arr_word[i]]
			                        	+ 		'</div>'
			                        	+ 		'<div class="answers">';
			                //str_html += '<label><input name="answers['+ i +']" value="'+ arr_word[i] +'" type="radio" >' + arr_word[i] + '</label>';
			                for (var j = arr_three_word.length - 1; j >= 0; j--) {
			                	str_html += 	'<label><input name="answers['+ i +']" value="'+ arr_three_word[j] +'" type="radio" >' + arr_three_word[j] + '</label>';
			                }
			                str_html += 	'</div>'
			                		+	'</div>'
			                		+	'<div class="countdown"></div>'
			                        + '</div>';
						}
						str_html += '<div class="item">'
									+	'<div class="text_content text_result">'
			                    	+		'result'
			                    	+		'<div class="result"></div>'
			                    	+	'</div>'
			                		+ '</div>';
						$('.carousel-inner').html(str_html);
					},
					// get result
					get_result: function(){
						var form = $('#form_nihongo');
				    	var data = form.serializeArray();
				    	var arr_ans = {};
				    	var count_right = 0;
				    	form.find('.slide_ans').each(function(index, el) {
				    		var key = $(this).find('.bigword').attr('data_word');
				    		var value = $(this).find('input:checked').val();
				    		if(value != undefined){
				    			arr_ans[key] = value;
				    		}else{
				    			arr_ans[key] = '';	
				    		}
				    					    		
				    	});
				    	
				    	$.each(arr_ans, function(index, val) {
				    		if(index == val){
				    			count_right++;
				    		}
				    	});

				    	var length_ans = Object.keys(arr_ans).length;
				    	// console.log(count_right);
				    	// console.log(length_ans);
				    	// console.log((count_right/length_ans) * 100 );

				    	$('.result').html('<p>' + count_right + '/' + length_ans + '</p><p>' + app_js.get_congratulation((count_right/length_ans) * 100) + '</p>');
					},
					// render nihongo
					get_nihongo: function(obj){
						var form_word = $('#form_word');
						var json = {};
						var html = '';

						$.each(obj, function(index, val) {
							var value_checkbox = '';
							var label_checkbox = '';
							$.extend(json, val);
							$.each(val, function(romaji, nihongo) {
								value_checkbox += romaji + ',';
								label_checkbox += romaji + ' - ';		
							});	
							value_checkbox = value_checkbox.slice(0, -1);
							label_checkbox = label_checkbox.slice(0, -3);

							html += '<div class="checkbox">'
					                + '<label>'
					                +    '<input type="checkbox" name="word" id="optionsRadios1" value="' + value_checkbox + '">' + label_checkbox 
					                + '</label>'
					            	+ '</div>';
						});
						nihongo_arr = json;

						form_word.find('.form-group').html(html);
					},
					//countdown
					get_countdown: function(time_start){
						var time_countdown = time_start;
						countdown_interval = setInterval(function(){
							$('.item.active .countdown').html(time_countdown);
							if(time_countdown == 1){
								time_countdown = time_start;
							}else{
								time_countdown--;
							}
						}, 1000);
					},
					// set Timeout to next slide
					set_timeout_nextslide: function(time){
						if(next_timeout) {
					        clearTimeout(next_timeout);
					    }
						next_timeout = setTimeout(function(){
										carousel_ele.carousel('next');
									}, (time * 1000 + 700));
					},
					//text congratulations
					get_congratulation: function(percent){
						if(percent <= 40){
							return 'Not Good';
						}else if (percent <= 60) {
							return 'Good';
						}else if (percent <= 80) {
							return 'Very Good';
						}else if (percent < 100) {
							return 'You\'re pro';
						}else if (percent = 100) {
							return 'Perfect';
						}
					} 
				};

				var nihongo_hira_obj = {
					"hang_a": {
						"a": 'あ',
						"i": 'い',
						"u": 'う',
						"e": 'え',
						"o": 'お'
					},
					"hang_ka": {
						"ka": 'か',
						"ki": 'き',
						"ku": 'く',
						"ke": 'け',
						"ko": 'こ'
					},
					"hang_sa": {
						"sa": 'さ',
						"shi": 'し',
						"su": 'す',
						"se": 'せ',
						"so": 'そ'
					},
					"hang_ta": {
						"ta": 'た',
						"chi": 'ち',
						"tsu": 'つ',
						"te": 'て',
						"to": 'と'
					},
					"hang_na": {
						"na": 'な',
						"ni": 'に',
						"nu": 'ぬ',
						"ne": 'ね',
						"no": 'の'
					},
					"hang_ha": {
						"ha": 'は',
						"hi": 'ひ',
						"fu": 'ふ',
						"he": 'へ',
						"ho": 'ほ'
					},
					"hang_ma": {
						"ma": 'ま',
						"mi": 'み',
						"mu": 'む',
						"me": 'め',
						"mo": 'も'
					},
					"hang_ya": {
						"ya": 'や',
						"yu": 'ゆ',
						"yo": 'よ'
					},
					"hang_ra": {
						"ra": 'ら',
						"ri": 'り',
						"ru": 'る',
						"re": 'れ',
						"ro": 'ろ'
					},
					"hang_wa": {
						"wa": 'わ',
						"wo": 'を',
						"n": 'ん'
					},
					"hang_ga": {
						"ga": 'が',
						"gi": 'ぎ',
						"gu": 'ぐ',
						"ge": 'げ',
						"go": 'ご'
					},
					"hang_za": {
						"za": 'ざ',
						"ji": 'じ',
						"zu": 'ず',
						"ze": 'ぜ',
						"zo": 'ぞ'
					},
					"hang_da": {
						"da": 'だ',
						"ji\(d\)": 'ぢ',
						"zu\(d\)": 'づ',
						"de": 'で',
						"do": 'ど'
					},
					"hang_ba": {
						"ba": 'ば',
						"bi": 'び',
						"bu": 'ぶ',
						"be": 'べ',
						"bo": 'ぼ'
					},
					"hang_pa": {
						"pa": 'ぱ',
						"pi": 'ぴ',
						"pu": 'ぷ',
						"pe": 'ぺ',
						"po": 'ぽ'
					}
				};

				var nihongo_kata_obj = {
					"hang_a": {
						"a": 'ア',
						"i": 'イ',
						"u": 'ウ',
						"e": 'エ',
						"o": 'オ'
					},
					"hang_ka": {
						"ka": 'カ',
						"ki": 'キ',
						"ku": 'ク',
						"ke": 'ケ',
						"ko": 'コ'
					},
					"hang_sa": {
						"sa": 'サ',
						"shi": 'シ',
						"su": 'ス',
						"se": 'セ',
						"so": 'ソ'
					},
					"hang_ta": {
						"ta": 'タ',
						"chi": 'チ',
						"tsu": 'ツ',
						"te": 'テ',
						"to": 'ト'
					},
					"hang_na": {
						"na": 'ナ',
						"ni": 'ニ',
						"nu": 'ヌ',
						"ne": 'ネ',
						"no": 'ノ'
					},
					"hang_ha": {
						"ha": 'ハ',
						"hi": 'ヒ',
						"fu": 'フ',
						"he": 'ヘ',
						"ho": 'ホ'
					},
					"hang_ma": {
						"ma": 'マ',
						"mi": 'ミ',
						"mu": 'ム',
						"me": 'メ',
						"mo": 'モ'
					},
					"hang_ya": {
						"ya": 'ヤ',
						"yu": 'ユ',
						"yo": 'ヨ'
					},
					"hang_ra": {
						"ra": 'ラ',
						"ri": 'リ',
						"ru": 'ル',
						"re": 'レ',
						"ro": 'ロ'
					},
					"hang_wa": {
						"wa": 'ワ',
						"wo": 'ヲ',
						"n": 'ン' 
					},
					"hang_ga": {
						"ga": 'ガ',
						"gi": 'ギ',
						"gu": 'グ',
						"ge": 'ゲ',
						"go": 'ゴ'
					},
					"hang_za": {
						"za": 'ザ',
						"ji": 'ジ',
						"zu": 'ズ',
						"ze": 'ゼ',
						"zo": 'ゾ'
					},
					"hang_da": {
						"da": 'ダ',
						"ji\(d\)": 'ヂ',
						"zu\(d\)": 'ヅ',
						"de": 'デ',
						"do": 'ド'
					},
					"hang_ba": {
						"ba": 'バ',
						"bi": 'ビ',
						"bu": 'ブ',
						"be": 'ベ',
						"bo": 'ボ'
					},
					"hang_pa": {
						"pa": 'パ',
						"pi": 'ピ',
						"pu": 'プ',
						"pe": 'ペ',
						"po": 'ポ'
					}
				};

				app_js.init();
			})(jQuery)
		</script>
		<!-- include html -->
        <script>
        function includeHTML() {
          var z, i, elmnt, file, xhttp;
          /*loop through a collection of all HTML elements:*/
          z = document.getElementsByTagName("*");
          for (i = 0; i < z.length; i++) {
            elmnt = z[i];
            /*search for elements with a certain atrribute:*/
            file = elmnt.getAttribute("w3-include-html");
            if (file) {
              /*make an HTTP request using the attribute value as the file name:*/
              xhttp = new XMLHttpRequest();
              xhttp.onreadystatechange = function() {
                if (this.readyState == 4) {
                  if (this.status == 200) {elmnt.innerHTML = this.responseText;}
                  if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
                  /*remove the attribute, and call this function once more:*/
                  elmnt.removeAttribute("w3-include-html");
                  includeHTML();
                }
              } 
              xhttp.open("GET", file, true);
              xhttp.send();
              /*exit the function:*/
              return;
            }
          }
        }
        includeHTML();
        </script>
    </body>

</html>